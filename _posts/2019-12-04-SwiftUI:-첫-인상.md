---
layout: post
title: "SwiftUI: ì²« ì¸ìƒ"
date: 2019-12-08 18:00:00 +0900
categories: 
---

SwiftUIëŠ” [WWDC 2019ì—ì„œ ë°œí‘œ]ëœ Appleì˜ ì„ ì–¸ì ì¸ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤(UI) í”„ë ˆì„ì›Œí¬ë¡œ,
iOS, macOS, watchOS, tvOSì˜ ëª¨ë“  Apple í”Œë«í¼ ì•±ì˜ ê°œë°œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ì•„ë˜ëŠ” [SwiftUI íŠœí† ë¦¬ì–¼]ì—ì„œ ê°€ì ¸ì˜¨ ì½”ë“œì´ë‹¤.

[WWDC 2019ì—ì„œ ë°œí‘œ]: https://developer.apple.com/videos/play/wwdc2019/204/
[SwiftUI íŠœí† ë¦¬ì–¼]: https://developer.apple.com/tutorials/swiftui/handling-user-input

```swift
import SwiftUI

struct LandmarkList: View {
  @State var showFavoritesOnly = true

  var body: some View {
    NavigationView {
      List {
        Toggle(isOn: $showFavoritesOnly) {
          Text("Favorites only")
        }

        ForEach(landmarkData) { landmark in
          if !self.showFavoritesOnly || landmark.isFavorite {
            NavigationLink(destination: LandmarkDetail(landmark: landmark)) {
              LandmarkRow(landmark: landmark)
            }
          }
        }
      }
      .navigationBarTitle(Text("Landmarks"))
    }
  }
}
```

ì²˜ìŒ SwiftUI ì½”ë“œë¥¼ ë³´ê³  ë†€ë€ ì ì€ ì´ ì½”ë“œê°€ ì—¬ì „íˆ `.swift` íŒŒì¼ë¡œ ì‘ì„±ë˜ì—ˆë‹¤ëŠ” ì ì´ì—ˆë‹¤.
ê·¸ëŸ¬ë‹ˆê¹Œ, ì € ì½”ë“œëŠ” ëª¨ë‘ Swift ì˜€ë‹¤.

ë’¤ëŠ¦ê²Œ ì•Œê²Œ ëœ ì‚¬ì‹¤ì€, Appleì´ ì´ëŸ° ê°„ê²°í•œ UI ì„ ì–¸ì„ ìœ„í•´
Swiftì— ë§ì€ ê¸°ëŠ¥ê³¼ ë¬¸ë²• ì„¤íƒ•ì„ ì¶”ê°€í–ˆë‹¤ëŠ” ê²ƒì´ë‹¤.


## ì†ì„± ì‹¸ê°œ: @State

ì œì¼ ë¨¼ì € ëˆˆì— ë“¤ì–´ì˜¤ëŠ”ê±´ ì»´í¼ë„ŒíŠ¸ê°€ êµ¬ì¡°ì²´ë¼ëŠ” ì ì´ë‹¤.
ì´ êµ¬ì¡°ì²´ëŠ” ë‘ ì†ì„±(property)ì„ ê°€ì§€ê³  ìˆëŠ”ë°, ë°”ë¡œ `showFavoritesOnly`ì™€ `body`ì´ë‹¤.
ê·¸ ë‹¤ìŒì—” `showFavoritesOnly` ì•ì— ìˆëŠ” @Stateê°€ ëˆˆì— ëˆë‹¤.

Swiftì—ì„œ `@`ì˜ ì—­í• ì€ ë‚˜ì—ê²Œ ì²˜ìŒë¶€í„° ë¯¸ìŠ¤í„°ë¦¬ì˜€ë‹¤.
Xcodeë¡œ iOSì•±ì„ ê°œë°œí•˜ë©´, ì´ ë²„íŠ¼ì´ ëˆŒë¦´ ë•Œ ì–´ë–¤ ì½”ë“œê°€ ì‹¤í–‰ë ì§€ ì§€ì •í•˜ê¸° ìœ„í•´
ê·¸ ë²„íŠ¼ì„ ì½”ë“œ í•œ ê°€ìš´ë°ë¡œ ctrl-ë“œë˜ê·¸í•´ì•¼ í–ˆëŠ”ë°, ê·¸ëŸ¬ë©´ ê·¸ ì½”ë“œ í•œ ê°€ìš´ë°ì—
ì´ëŸ° ì†ì„±ì´ ì¶”ê°€ë˜ì—ˆë‹¤.

```swift
@IBOutlet weak var nameTextField: UITextField!
```

ì´ëŸ° ì‘ë™ ë°©ì‹ì€ ë‚˜í•œí…Œ ìƒì†Œí–ˆê³ , Xcodeê°€ ë‚´ë¶€ êµ¬í˜„ì„ ê°€ë¦¬ê³  ìˆëŠ” ê²ƒì²˜ëŸ¼ ëŠê»´ì¡Œë‹¤.
ë„ëŒ€ì²´ `@IBOutlet`ì˜ êµ¬í˜„ì€ ì–´ë””ì— ìˆ¨ì–´ìˆëŠ” ê²ƒì´ë©°, ë‚˜ë„ ë‹¤ë¥¸ `@`ë“¤ì„ ì •ì˜í•  ìˆ˜ëŠ” ì—†ëŠ” ê²ƒì¸ì§€ ê¶ê¸ˆí–ˆë‹¤.
ê³¼ì—° [ê´€ë ¨ Swift ë°œì „ ê¸°íšì•ˆ][SE-0258]ë¥¼ ì°¾ì•„ë³´ë‹ˆ Swift 5.1 ì´ì „ê¹Œì§€
`@`ì˜ êµ¬í˜„ì´ ì»´íŒŒì¼ëŸ¬ì— í•˜ë“œì½”ë”© ë¼ ìˆë˜ ëª¨ì–‘ì´ë‹¤. ê·¸ëŸ¬ë‹ˆ ì‘ë™ë°©ì‹ì´ ëª¨í˜¸í•˜ê²Œ ëŠê»´ì§ˆë§Œ í–ˆì§€.

ì´ ê¸°íšì•ˆì€ ì¼ë°˜ ê°œë°œìë„ `@` ë¥¼ ì´ìš©í•  ìˆ˜ ìˆë„ë¡ ì‘ë™ ë°©ì‹ì„ í‘œì¤€í™” í•˜ëŠ”ê±¸ ê³¨ìë¡œ í•˜ê³  ìˆë‹¤.
ìš”ì»¨ëŒ€ `@State`ì²˜ëŸ¼ ì†ì„± ì•ì— `@`ì„ ì´ìš©í•´ ê¸°ëŠ¥ì„ ë§ë¶™ì´ëŠ”ê±¸ ì†ì„± ì‹¸ê°œ(property wrapper)ë¼ê³  ë¶€ë¥´ê³ ,
ê°œë°œìë“¤ì€ ì†ì„±ì„ ì €ì¥í•˜ëŠ” ë¡œì§ê³¼ ì†ì„± ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ë¡œì§ì„ ì¬í™œìš©í•˜ê¸° ìœ„í•´ ì†ì„± ì‹¸ê°œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

SwiftUIì—ì„œëŠ” `@State`, `@Binding`, `@EnvironmentObject`ì˜ ì†ì„± ì‹¸ê°œë¥¼ ì´ìš©í•´ì„œ ìƒíƒœ ê´€ë¦¬ë¥¼ í•˜ëŠ”ë°,
Reactì˜ Reduxê°™ì€ ì¥í™©í•œ ì†”ë£¨ì…˜ì€ ë‘ë§í•  ê²ƒë„ ì—†ê³ , Vuexë³´ë‹¤ë„ ê¹”ë”í•œ ê²ƒ ê°™ë‹¤.
ë¬´ì—‡ë³´ë‹¤ ì´ ëª¨ë“ ê²Œ ì»´íŒŒì¼ëŸ¬ì— í•˜ë“œì½”ë”©ëœ ìƒˆë¡œìš´ ê°œë…ì´ ì•„ë‹ˆë¼
ì‚¬ìš©ì ì •ì˜ ê°€ëŠ¥í•œ Swift ë¬¸ë²•ì˜ ì¼ë¶€ë¼ëŠ”ê²Œ íŠ¹íˆ ë§ˆìŒì— ë“ ë‹¤.

[SE-0258]: https://github.com/apple/swift-evolution/blob/master/proposals/0258-property-wrappers.md


## ì½ê¸° ì „ìš© ê³„ì‚°ëœ ì†ì„±

Swiftì—ì„œëŠ” ê³„ì‚°ëœ ì†ì„±ì„ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.

```swift
struct Rectangle {
  var width = 0.0
  var height = 0.0
  
  var area: Double {
    get {
      return width * height
    }
  }
}

let r = Rectangle(width: 2, height: 3)

// rì˜ ë©´ì ì€ 6.0ì…ë‹ˆë‹¤.
print("rì˜ ë©´ì ì€ \(r.area)ì…ë‹ˆë‹¤.")
```

ê³„ì‚°ëœ ì†ì„±ì˜ ë§¤ê¸°ê°œ(setter)ê°€ ì—†ë‹¤ë©´ ì–»ê°œ(getter)ì˜ `get` í‚¤ì›Œë“œë¥¼ ìƒëµí•  ìˆ˜ ìˆë‹¤.
<!-- setter ë§¤ê¸°ê°œ getter ì–»ê°œ.. -->
```swift
struct Rectangle {
  //
  var area: Double {
    return width * height
  }
}
```

ë” ë‚˜ì•„ê°€ Swift 5.1 ì—ì„œëŠ” [returnì„ ìƒëµí•  ìˆ˜ ìˆëŠ” ë¬¸ë²•ì´ ì¶”ê°€][SE-0255]ë˜ì—ˆë‹¤.

```swift
struct Rectangle {
  //
  var area: Double { width * height }
}
```

ìœ„ `LandmarkList` ë·°ì˜ `body` í”„ë¡œí¼í‹°ëŠ” ì´ ë¬¸ë²• ì„¤íƒ•ì„ ì´ìš©í•´ì„œ `return` í‚¤ì›Œë“œ ì—†ëŠ”
ì•„ë˜ì™€ ê°™ì€ ë¬¸ë²•ì„ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. 

```swift
// âœ… get, return ìƒëµ

var body: some View {
  NavigationView {
  // ìì„¸í•œ êµ¬í˜„
  }
}
```

```swift
// â›”ï¸ ìƒëµí•˜ì§€ ì•ŠìŒ

var body: some View {
  get {
    return NavigationView {
      // ìì„¸í•œ êµ¬í˜„
    }
  }
}
```

[SE-0255]: https://github.com/apple/swift-evolution/blob/master/proposals/0255-omit-return.md

## ë¶ˆíˆ¬ëª…í•œ íƒ€ì…: some

`body`ì˜ íƒ€ì…ì— `some`ì´ë¼ëŠ” ì²˜ìŒë³´ëŠ” í‚¤ì›Œë“œê°€ ë¶™ì–´ ìˆë‹¤.
ì°¾ì•„ë³´ë‹ˆ ì—­ì‹œ [Swift 5.1ì— ìƒˆë¡œ ì¶”ê°€][SE-0244]ëœ ê°œë…ì´ë‹¤.

ì§§ê²Œ ì„¤ëª…í•˜ê¸° ì–´ë ¤ìš´ íƒ€ì…ì— ê´€í•œ ì´ì•¼ê¸°ê°€ í•„ìš”í•´ì„œ ì´ í¬ìŠ¤íŠ¸ì—ì„  ìƒëµí•˜ê² ë‹¤.
í•˜ì§€ë§Œ `some` í‚¤ì›Œë“œë¥¼ ì´í•´í•˜ì§€ ëª»í•´ë„ SwiftUIë¥¼ ë‹¹ì¥ ì‚¬ìš©í•˜ëŠ” ë°ì— í° ì§€ì¥ì€ ì—†ì–´ ë³´ì¸ë‹¤.

[SE-0244]: https://github.com/apple/swift-evolution/blob/master/proposals/0244-opaque-result-types.md

## í´ë¡œì € ë¬¸ë²• ì„¤íƒ•

SwiftëŠ” í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ ì¸ìê°€ í´ë¡œì €ì¼ ë•Œ ë…íŠ¹í•œ ë¬¸ë²• ì„¤íƒ•ì„ ê°€ì§€ê³  ìˆë‹¤.

```swift
let numbers = [42, 17, 23, 7, 11, 5]

numbers.map({ (number) -> String in String(number) })
```

map(_:)ì²˜ëŸ¼ closureë¥¼ ë§ˆì§€ë§‰ ì¸ìë¡œ ë°›ëŠ” ê²½ìš°ì—

```swift
numbers.map { (number) -> String in String(number) }
```

ì´ë ‡ê²Œ í•¨ìˆ˜ í˜¸ì¶œ ê´„í˜¸ () ë¥¼ ìƒëµí•  ìˆ˜ ìˆë‹¤.

í•¨ìˆ˜ ì¸ìê°€ ì—¬ëŸ¬ ê°œì¸ ê²½ìš°ì—ëŠ”

```swift
func someFunctionThatTakesAClosure(a: Int, b: String, closure: () -> Void) {
  // function body
}

someFunctionThatTakesAClosure(a: 0, b: "", closure: {
  // closure body
})
```

ìœ„ì˜ ì„¸ë²ˆì§¸ ì¸ì closureë¥¼ ì•„ë˜ì™€ ê°™ì€ ë¬¸ë²•ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

```swift
someFunctionThatTakesAClosure(a: 0, b: "") {
  // closure body
}
```

ì´ í´ë¡œì € ë§ˆì§€ë§‰ ì¸ìì¸ ìœ„í•œ ë¬¸ë²• ì„¤íƒ•ì€ SwiftUIì—ì„œ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©ëœë‹¤.
ì•„ë˜ì˜ ë‘ ì½”ë“œëŠ” ê°™ì€ ì˜ë¯¸ì˜ ì½”ë“œì´ë‹¤.

```swift
// âœ… ë¬¸ë²• ì„¤íƒ• ì‚¬ìš©

ForEach(landmarkData) { landmark in
  if !self.showFavoritesOnly || landmark.isFavorite {
    NavigationLink(destination: LandmarkDetail(landmark: landmark)) {
      LandmarkRow(landmark: landmark)
    }
  }
}
```

```swift
// â›”ï¸ ë¬¸ë²• ì„¤íƒ• ì‚¬ìš© ì•ˆ í•¨

ForEach(landmarkData, content: { landmark in
  if !self.showFavoritesOnly || landmark.isFavorite {
    NavigationLink(destination: LandmarkDetail(landmark: landmark)) {
      LandmarkRow(landmark: landmark)
    }
  })
}
```

ì´ ê²°ê³¼ SwiftUIëŠ” ì¢€ ë” ê°„ê²°í•œ UI ë°˜ë³µì„ ì–¸ì´ ê°€ëŠ¥í•˜ë‹¤.

## ìš©ì–´
- ë§¤ê¸°ê°œ: setter. `ë§¤ê¸°ë‹¤` + `-ê°œ`. ì¼ë°˜ì ìœ¼ë¡œ ì„¤ì •ìë¡œ ë²ˆì—­ëœë‹¤.
- ì–»ê°œ: getter. `ì–»ë‹¤` + `-ê°œ`. ì¼ë°˜ì ìœ¼ë¡œ íšë“ì í˜¹ì€ ì ‘ê·¼ìë¡œ ë²ˆì—­ëœë‹¤.




<!-- ğŸ”¥ğŸ”¥ğŸ”¥ í¸ì§‘ ë°©í–¥ ğŸ”¥ğŸ”¥ğŸ”¥ -->
<!-- 
ì†Œê°œê¸€ì´ ì•„ë‹ˆë¼ ë‚´ ì²« ì¸ìƒì´ë€ ëŠë‚Œìœ¼ë¡œ!
swiftì— ~ê°€ ìˆë‹¤
ëŒ€ì‹ 
??ì´ ë¬¸ë²•ì€ ë„ëŒ€ì²´ ì–´ë–»ê²Œ ê°€ëŠ¥í•œ ê²ƒì¼ê¹Œ?
ì´ëŸ° ì ‘ê·¼ìœ¼ë¡œ ê°€ì
 -->
